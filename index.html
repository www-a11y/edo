
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ±Ÿæˆ¸ã®å„’å­¦è€…ã«è³ªå•ã—ã‚ˆã†</title>
  <style>
    body {
  font-family: sans-serif;
  text-align: center;
  padding: 20px;
  background-image: url('edo_scholar.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  min-height: 100vh;
  color: white;
  text-shadow: 1px 1px 2px black;
}
    img {
      width: 200px;
      border-radius: 16px;
      border: 2px solid white;
    }
    .bubble {
      background: rgba(0, 0, 0, 0.6);
      display: inline-block;
      padding: 10px 20px;
      border-radius: 20px;
      margin-top: 10px;
    }
    button, input[type="text"] {
      padding: 10px 20px;
      font-size: 18px;
      margin: 5px;
      cursor: pointer;
    }
    input[type="text"] {
      width: 60%;
    }
  </style>
</head>
<body>
  <h2>ğŸ¤âŒ¨ï¸ æ±Ÿæˆ¸ã®å„’å­¦è€…ã«è³ªå•ã—ã¦ã¿ã‚ˆã†</h2>
  <img src="edo_scholar.jpg" alt="æ±Ÿæˆ¸ã®å„’å­¦è€…">
  <br><br>
  <button onclick="startRecognition()">ğŸ¤ è©±ã—ã‹ã‘ã‚‹</button>
  <br><br>
  <input type="text" id="textInput" placeholder="ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã‚‚è³ªå•ã§ãã¾ã™">
  <button onclick="handleTextInput()">é€ä¿¡</button>

  <p><strong>ã‚ãªãŸï¼š</strong><span id="userText" class="bubble">---</span></p>
  <p><strong>å„’å­¦è€…ï¼š</strong><span id="replyText" class="bubble">---</span></p>

  <script>
    const qaMap = {
      "å„’æ•™ã§å¤§äº‹ã«ã•ã‚ŒãŸ": "å…¨ä½“ã®ã€å’Œã€ãŒå¤§äº‹ã«ã•ã‚ŒãŸ",
      "æ—¥æœ¬äººã¯ã©ã†ãªã£ãŸ": "åŒèª¿åœ§åŠ›ãŒå¼·ã¾ã‚Šã€å‘¨ã‚Šã®ç›®ã¸æ°—ã‚’é£ã†ã‚ˆã†ã«ãªã£ãŸ",
      "ä¸Šä¸‹é–¢ä¿‚": "ç§ï¼ˆä¸€æ—ï¼‰ã‚ˆã‚Šã‚‚å…¬ï¼ˆç¤¾ä¼šï¼‰ã‚’é‡è¦–",
      "ä»æ•™ã¨å„’æ•™ã®é•ã„": "ä»æ•™ã¯ç¤¾ä¼šã®è¦å¾‹ã‚’ã€å„’æ•™ã¯èº«å†…ã®äººæƒ…ã‚’é‡è¦–"
    };

    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "ja-JP";

    function startRecognition() {
      recognition.start();
      recognition.onresult = function(event) {
        const userInput = event.results[0][0].transcript.trim();
        processInput(userInput);
      };
    }

    function handleTextInput() {
      const userInput = document.getElementById("textInput").value.trim();
      if (userInput !== "") {
        processInput(userInput);
        document.getElementById("textInput").value = "";
      }
    }

    function processInput(userInput) {
      document.getElementById("userText").textContent = userInput;

      let reply = "ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€ãã‚Œã«ã¯ç­”ãˆã‚‰ã‚Œã¾ã›ã‚“ã€‚";
      for (const key in qaMap) {
        if (userInput.includes(key)) {
          reply = qaMap[key];
          break;
        }
      }

      document.getElementById("replyText").textContent = reply;
      speak(reply);
    }

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "ja-JP";
      speechSynthesis.speak(utter);
    }
  </script>
</body>
</html>
